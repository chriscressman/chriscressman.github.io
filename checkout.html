<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.86, maximum-scale=3.0, minimum-scale=0.86">
    <title>Checkout</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono|Fira+Sans&display=swap">
    <link rel="stylesheet" href="document.css">
  </head>

  <body>

    <div class="medium-wrapper">

      <h1 id="checkout">Checkout</h1>
      <p>Checkout is the process that completes and records a transaction (a sale) between a shopper and the retailer. Checkout gets the <a href="orders.html">order</a>, <a href="shipping.html">shippings</a>, and payment into the states necessary to place the order.</p>
      <p>This doc first covers checkout from the perspective of models (modeling) and controller actions (flow). Then it covers each step in more detail, including shared implementation. The doc concludes with a brief explanation of checkout extension, such as changing a step or adding a new step.</p>

      <nav>
        <ul>
          <li><a href="#modeling">Modeling</a></li>
          <li><a href="#flow">Flow</a></li>
          <li>
            <a href="#entry-point">Entry Point</a>
            <ul>
              <li><a href="#code">Code</a></li>
            </ul>
          </li>
          <li>
            <a href="#step-1-addresses">Step 1: Addresses</a>
            <ul>
              <li><a href="#routes">Routes</a></li>
              <li><a href="#update-params"><code>update</code> Params</a></li>
              <li><a href="#complete-conditions"><code>complete?</code> Conditions</a></li>
              <li><a href="#code-1">Code</a></li>
            </ul>
          </li>
          <li>
            <a href="#step-2-shipping">Step 2: Shipping</a>
            <ul>
              <li><a href="#routes-1">Routes</a></li>
              <li><a href="#update-params-1"><code>update</code> Params</a></li>
              <li><a href="#complete-conditions-1"><code>complete?</code> Conditions</a></li>
              <li><a href="#code-2">Code</a></li>
            </ul>
          </li>
          <li>
            <a href="#step-3-payment-place-order">Step 3: Payment &amp; Place Order</a>
            <ul>
              <li><a href="#routes-2">Routes</a></li>
              <li><a href="#update-params-2"><code>update</code> Params</a></li>
              <li><a href="#complete-conditions-2"><code>complete?</code> Conditions</a></li>
              <li><a href="#code-3">Code</a></li>
            </ul>
          </li>
          <li>
            <a href="#placed-order">Placed Order</a>
            <ul>
              <li><a href="#routes-3">Routes</a></li>
              <li><a href="#code-4">Code</a></li>
            </ul>
          </li>
          <li><a href="#shared-implementation">Shared Implementation</a></li>
          <li>
            <a href="#extension">Extension</a>
            <ul>
              <li><a href="#change-an-existing-step">Change an Existing Step</a></li>
              <li><a href="#add-a-step">Add a Step</a></li>
            </ul>
          </li>
        </ul>
      </nav>

      <h2 id="modeling">Modeling</h2>
      <p>Consider the example of a user checking out who is currently browsing <code>/checkout/addresses</code>. Within the context of this web request in the Storefront, <code>current_checkout</code> provides an instance of <code>Workarea::Checkout</code>, initialized from <code>current_order</code> and (if available) <code>current_user</code>.</p>
      <pre><samp>&gt; <kbd>current_checkout.class</kbd>
=&gt; Workarea::Checkout
&gt; <kbd>current_checkout.order.present?</kbd>
=&gt; true
&gt; <kbd>current_checkout.user.present?</kbd>
=&gt; false</samp></pre>
      <p>The example above represents a <em>guest</em> checkout (no user), which is currently <em>incomplete</em>, meaning the order cannot be placed.</p>
      <pre><samp>&gt; <kbd>current_checkout.complete?</kbd>
=&gt; false</samp></pre>
      <p>Checkout is completed through a series of steps. Each of these steps is modeled by a class.</p>
      <pre><samp>&gt; <kbd>puts current_checkout.steps</kbd>
Workarea::Checkout::Steps::Addresses
Workarea::Checkout::Steps::Shipping
Workarea::Checkout::Steps::Payment</samp></pre>
      <p>As needed throughout checkout, a checkout step object is initialized. A checkout step object is always initialized with a checkout instance.</p>
      <pre><samp>&gt; <kbd>addresses_step = current_checkout.steps.first.new(current_checkout)</kbd></samp></pre>
      <p>As the shopper progresses through checkout, each checkout request re-initializes the current checkout object and the object representing the current checkout step. Each step of checkout <em>updates</em> the checkout until the step is <em>complete</em>.</p>
      <p>Each checkout step model therefore responds to <code>#update</code> and <code>#complete?</code>. The <code>#update</code> method uses the given params to mutate and persist the underlying transactional models (i.e. order, shippings, payment). The <code>#complete?</code> method determines if those transactional models are in the necessary states to continue to the next step of checkout (or place the order).</p>
      <p>addresses step is incomplete</p>
      <pre><samp>&gt; <kbd>addresses_step.complete?</kbd>
=&gt; false</samp></pre>
      <p>collect params from the shopper and update the checkout</p>
      <pre><samp>&gt; <kbd>address_params = {
    first_name: &#39;Ben&#39;,
    last_name: &#39;Crouse&#39;,
    street: &#39;22 S 3rd St&#39;,
    city: &#39;Philadelphia&#39;,
    region: &#39;PA&#39;,
    postal_code: &#39;19106&#39;,
    country: &#39;US&#39;,
    phone_number: &#39;2159251800&#39;
  }</kbd>
&gt; <kbd>addresses_step.update(
    email: &#39;bcrouse@workarea.com&#39;,
    shipping_address: address_params,
    billing_address: address_params
  )</kbd></samp></pre>
      <p>addresses step is now complete</p>
      <pre><samp>&gt; <kbd>addresses_step.complete?</kbd>
=&gt; true</samp></pre>
      <p>This process of updating a step until it is complete is repeated until all steps of checkout are complete. At that point, the checkout itself is considered complete, and the order can be placed.</p>
      <p>query the checkout status</p>
      <pre><samp>&gt; <kbd>current_checkout.complete?</kbd>
=&gt; true</samp></pre>
      <p>place the order</p>
      <pre><samp>&gt; <kbd>current_checkout.place_order</kbd>
=&gt; true</samp></pre>
      <p>The examples above illustrate the checkout process from the perspective of the checkout models. However, in practice, shoppers check out via a series of web requests in the Storefront. This flow is covered next.</p>

      <h2 id="flow">Flow</h2>
      <p>The checkout UI in the Storefront guides a shopper through a series of Storefront web requests, each of which collects the necessary data from the shopper to complete a particular step of checkout. After all steps are complete, the order is placed, and the shopper is redirected to a view of the placed order.</p>
      <p>The entire flow is illustrated in the following diagram. The sections following the diagram provide additional details for each step.</p>
      <figure>
        <img src="checkout-flow-0.png" alt="Checkout flow">
        <img src="checkout-flow-1.png" alt="Checkout flow">
        <img src="checkout-flow-2.png" alt="Checkout flow">
        <img src="checkout-flow-3.png" alt="Checkout flow">
        <img src="checkout-flow-4.png" alt="Checkout flow">
      </figure>

      <h2 id="entry-point">Entry Point</h2>
      <p>The checkout entry point determines which step of checkout to initially present to the shopper.</p>
      <p>It’s possible for a checkout to be complete (<code>Checkout#complete?</code>) as soon as it is initialized. In this case, data from the checkout’s user and other sources are used to <em>autocomplete</em> the checkout, and the shopper is redirected to the final step of checkout (payment and place order). From there, the shopper can make changes to the current and previous checkout steps, or they can simply click “Place Order” to finish checking out.</p>
      <p>If a checkout cannot be autocompleted (e.g. there is no user, or there isn’t enough information stored on the user), the shopper is redirected to the addresses step to begin checkout.</p>

      <h3 id="code">Code</h3>
      <p>Run the following command from your application/plugin root to list relevant code files for this step:</p>
      <pre><samp>$ <kbd>echo $(bundle show workarea-storefront)/app/controllers/workarea/storefront/checkouts_controller.rb</kbd>
$</samp></pre>

      <h2 id="step-1-addresses">Step 1: Addresses</h2>
      <p>The addresses step of checkout collects the shopper’s email address, shipping address, and billing address. Any or all of these may be pre-filled from data stored on the user. The shipping and billing addresses may be entered as new addresses or selected from a menu of saved addresses. The billing address may also be entered by choosing “Same as Shipping”, which is selected by default.</p>
      <p>Addresses step, guest checkout:</p>
      <figure>
        <img src="checkout-addresses-guest.png" alt="Checkout addresses, guest checkout">
        <figcaption>Checkout addresses, guest checkout</figcaption>
      </figure>
      <p>( The screenshot above includes shipping to multiple addresses and address autocomplete. These features are provided by plugins and are not covered in this doc. )</p>
      <p>Here is the addresses step as a returning user:</p>
      <figure>
        <img src="checkout-addresses-user.png" alt="Checkout addresses, returning user">
        <figcaption>Checkout addresses, returning user</figcaption>
      </figure>

      <h3 id="routes">Routes</h3>
      <ul>
        <li><code>GET /checkout/addresses</code></li>
        <li><code>PATCH /checkout/addresses</code></li>
      </ul>

      <h3 id="update-params"><code>update</code> Params</h3>
      <ul>
        <li><code>:email</code></li>
        <li><code>:shipping_address</code></li>
        <li><code>:billing address</code></li>
      </ul>

      <h3 id="complete-conditions"><code>complete?</code> Conditions</h3>
      <ul>
        <li>Order is valid (<code>Order#valid?</code>)</li>
        <li>Payment address is present and valid (<code>Payment#address</code>, <code>Payment::Address#valid?</code>)</li>
        <li>If order requires shipping (<code>Order#requires_shipping?</code>), all shippings are shippable (<code>Shipping#shippable?</code>)</li>
      </ul>

      <h3 id="code-1">Code</h3>
      <p>Run the following command from your application/plugin root to list relevant code files for this step:</p>
      <pre><samp>$ <kbd>echo &quot;
$(bundle show workarea-core)/app/models/workarea/checkout/steps/addresses.rb
$(bundle show workarea-core)/test/models/workarea/checkout/steps/addresses_test.rb
$(bundle show workarea-storefront)/app/controllers/workarea/storefront/checkout/addresses_controller.rb
$(bundle show workarea-storefront)/app/view_models/workarea/storefront/checkout/addresses_view_model.rb
$(bundle show workarea-storefront)/test/view_models/workarea/storefront/checkout/addresses_view_model_test.rb
$(bundle show workarea-storefront)/app/assets/javascripts/workarea/storefront/modules/address_region_fields.js
$(bundle show workarea-storefront)/app/assets/javascripts/workarea/storefront/modules/checkout_addresses_forms.js
$(bundle show workarea-storefront)/app/assets/javascripts/workarea/storefront/templates/saved_addresses_property.jst.ejs
$(bundle show workarea-storefront)/app/assets/javascripts/workarea/storefront/templates/same_as_shipping_button_property.jst.ejs
$(bundle show workarea-storefront)/app/views/workarea/storefront/checkouts/addresses.html.haml
$(bundle show workarea-storefront)/app/assets/stylesheets/workarea/storefront/components/_checkout_addresses.scss
&quot;</kbd>
$</samp></pre>

      <h2 id="step-2-shipping">Step 2: Shipping</h2>
      <p>The shipping step of checkout collects the shopper’s choice of shipping service and, optionally, shipping instructions. A shipping service is always selected by default, but the shopper can change the shipping service if more than one is available. Changing the service asynchronously updates the UI to reflect the effects on order pricing. The shipping instructions field is a simple text field that is hidden by default.</p>
      <p>The shipping step:</p>
      <figure>
        <img src="checkout-shipping.png" alt="Checkout shipping">
        <figcaption>Checkout shipping</figcaption>
      </figure>
      <p>( The screenshot above includes shipping to multiple addresses, gift message, and gift wrapping. These features are provided by plugins and are not covered in this doc. )</p>

      <h3 id="routes-1">Routes</h3>
      <ul>
        <li><code>GET /checkout/shipping</code></li>
        <li><code>PATCH /checkout/shipping</code></li>
      </ul>

      <h3 id="update-params-1"><code>update</code> Params</h3>
      <ul>
        <li><code>:shipping_service</code></li>
        <li><code>:shipping_instructions</code></li>
      </ul>

      <h3 id="complete-conditions-1"><code>complete?</code> Conditions</h3>
      <ul>
        <li>Order is valid (<code>Order#valid?</code>)</li>
        <li>If order requires shipping (<code>Order#requires_shipping?</code>), first shipping is valid (<code>Shipping#valid?</code>)</li>
      </ul>

      <h3 id="code-2">Code</h3>
      <p>Run the following command from your application/plugin root to list relevant code files for this step:</p>
      <pre><samp>$ <kbd>echo &quot;
$(bundle show workarea-core)/app/models/workarea/checkout/steps/shipping.rb
$(bundle show workarea-core)/test/models/workarea/checkout/steps/shipping_test.rb
$(bundle show workarea-core)/app/models/workarea/checkout/shipping_options.rb
$(bundle show workarea-core)/test/models/workarea/checkout/shipping_options_test.rb
$(bundle show workarea-storefront)/app/controllers/workarea/storefront/checkout/shipping_controller.rb
$(bundle show workarea-storefront)/app/view_models/workarea/storefront/checkout/shipping_view_model.rb
$(bundle show workarea-storefront)/app/assets/javascripts/workarea/storefront/modules/checkout_shipping_services.js
$(bundle show workarea-storefront)/app/views/workarea/storefront/checkouts/shipping.html.haml
$(bundle show workarea-storefront)/app/assets/stylesheets/workarea/storefront/components/_checkout_shipping.scss
&quot;</kbd>
$</samp></pre>

      <h2 id="step-3-payment-place-order">Step 3: Payment &amp; Place Order</h2>
      <p>The third and final step of checkout collects payment and then places the order after the checkout is considered complete. Payment may be the ID of a saved credit card, or it may be a new credit card (in which case the value of <code>:payment</code> is <code>'new_card'</code>, and the additional param <code>:credit_card</code> contains the credit card attributes; e.g. <code>:number</code>).</p>
      <p>The payment step, guest checkout:</p>
      <figure>
        <img src="checkout-payment-guest.png" alt="Checkout payment, guest">
        <figcaption>Checkout payment, guest</figcaption>
      </figure>
      <p>( The “Enter a Promo Code” button, shown above, reveals an additional promo code form, which is separate from the checkout form. The form submits to <code>PATCH /cart/add_promo_code</code> and then returns the shopper to this step of checkout. Therefore, although this form appears within the checkout UI, it is not part of checkout from a modeling and flow standpoint and isn’t included in the discussions above.</p>
      <p>The screenshot above also includes quoting, gift cards, and shipping to multiple addresses. These features are provided by plugins and are not covered in this doc. )</p>
      <p>Here is the payment step as a returning user:</p>
      <figure>
        <img src="checkout-payment-user.png" alt="Checkout payment, returning user">
        <figcaption>Checkout payment, returning user</figcaption>
      </figure>
      <p>Placing the order has various effects; some inline with the original web request, others deferred as background jobs. Investigate the following Ruby API calls to see all the effects:</p>
      <ul>
        <li><code>Order#place</code></li>
        <li><code>Checkout#place_order</code></li>
        <li><code>Checkout#place_order_side_effects</code></li>
        <li><code>Storefront::Checkout::PlaceOrderController#completed_place_order</code></li>
        <li><code>SaveUserOrderDetails#perform</code></li>
        <li><code>MarkDiscountsAsRedeemed#perform</code></li>
        <li><code>SaveOrderMetrics#perform</code></li>
      </ul>
      <p>For convenience, run the following command from your application/plugin root to list the source files where the above methods are defined:</p>
      <pre><samp>$ <kbd>echo &quot;
$(bundle show workarea-core)/app/models/workarea/order.rb
$(bundle show workarea-core)/app/models/workarea/checkout.rb
$(bundle show workarea-storefront)/app/controllers/workarea/storefront/checkout/place_order_controller.rb
$(bundle show workarea-core)/app/workers/workarea/save_user_order_details.rb
$(bundle show workarea-core)/app/workers/workarea/mark_discounts_as_redeemed.rb
$(bundle show workarea-core)/app/workers/workarea/save_order_metrics.rb
&quot;</kbd>
$</samp></pre>

      <h3 id="routes-2">Routes</h3>
      <ul>
        <li><code>GET /checkout/payment</code></li>
        <li><code>PATCH /checkout/place_order</code></li>
      </ul>

      <h3 id="update-params-2"><code>update</code> Params</h3>
      <ul>
        <li><code>:payment</code></li>
        <li><code>:credit_card</code></li>
      </ul>

      <h3 id="complete-conditions-2"><code>complete?</code> Conditions</h3>
      <ul>
        <li>Order is purchasable (<code>Order#purchasable?</code>)</li>
        <li>Payment is purchasable for the total price of the order (<code>Payment#purchasable?</code>, <code>Order#total_price</code>)</li>
      </ul>

      <h3 id="code-3">Code</h3>
      <p>Run the following command from your application/plugin root to list relevant code files for this step:</p>
      <pre><samp>$ <kbd>echo &quot;
$(bundle show workarea-core)/app/models/workarea/checkout/steps/payment.rb
$(bundle show workarea-core)/test/models/workarea/checkout/steps/payment_test.rb
$(bundle show workarea-core)/app/models/workarea/checkout/credit_card_params.rb
$(bundle show workarea-storefront)/app/controllers/workarea/storefront/checkout/payment_controller.rb
$(bundle show workarea-storefront)/app/controllers/workarea/storefront/checkout/place_order_controller.rb
$(bundle show workarea-storefront)/app/view_models/workarea/storefront/checkout/payment_view_model.rb
$(bundle show workarea-storefront)/test/view_models/workarea/storefront/checkout/payment_view_model_test.rb
$(bundle show workarea-storefront)/app/assets/javascripts/workarea/storefront/modules/checkout_primary_payments.js
$(bundle show workarea-storefront)/app/views/workarea/storefront/checkouts/payment.html.haml
$(bundle show workarea-storefront)/app/assets/stylesheets/workarea/storefront/components/_checkout_payment.scss
&quot;</kbd>
$</samp></pre>

      <h2 id="placed-order">Placed Order</h2>
      <p>After the order is placed, the shopper is redirected to a view of the placed order. If the shopper is an administrator with <code>:order</code> permissions, they are redirected to the placed order in the Admin. Otherwise, the shopper is redirected to the <em>checkout confirmation</em>: a Storefront view of the placed order.</p>
      <figure>
        <img src="checkout-confirmation.png" alt="Checkout confirmation">
        <figcaption>Checkout confirmation</figcaption>
      </figure>
      <p>If the checkout was a guest checkout, the checkout confirmation page includes a form which allows the shopper to create a user account. If the shopper creates their account, a background job copies details from the checkout (e.g. addresses, payment) to their user account.</p>

      <h3 id="routes-3">Routes</h3>
      <ul>
        <li><code>GET /checkout/confirmation</code></li>
        <li><code>GET /admin/orders/:id</code></li>
      </ul>

      <h3 id="code-4">Code</h3>
      <p>Run the following command from your application/plugin root to list relevant code files for the Storefront checkout confirmation page:</p>
      <pre><samp>$ <kbd>echo &quot;
$(bundle show workarea-storefront)/app/controllers/workarea/storefront/checkout/place_order_controller.rb
$(bundle show workarea-storefront)/app/view_models/workarea/storefront/checkout/confirmation_view_model.rb
$(bundle show workarea-storefront)/app/views/workarea/storefront/checkouts/confirmation.html.haml
&quot;</kbd>
$</samp></pre>

      <h2 id="shared-implementation">Shared Implementation</h2>
      <p>The steps of checkout have a consistent “chrome” and therefore share some of their implementation. This includes a checkout layout, a progress indicator, and the checkout summary which displays as an aside throughout checkout.</p>
      <p>Run the following command from your application/plugin root to list the source files for the checkout shared implementation.</p>
      <pre><samp>$ <kbd>echo &quot;
$(bundle show workarea-core)/app/models/workarea/checkout.rb
$(bundle show workarea-core)/test/models/workarea/checkout_test.rb
$(bundle show workarea-core)/app/models/workarea/checkout/auto_complete.rb
$(bundle show workarea-core)/app/models/workarea/checkout/collect_payment.rb
$(bundle show workarea-core)/test/models/workarea/checkout/collect_payment_test.rb
$(bundle show workarea-core)/app/models/workarea/checkout/steps/base.rb
$(bundle show workarea-storefront)/app/controllers/workarea/storefront/checkouts_controller.rb
$(bundle show workarea-storefront)/app/controllers/workarea/storefront/current_checkout.rb
$(bundle show workarea-storefront)/app/view_models/workarea/storefront/checkout_content.rb
$(bundle show workarea-storefront)/app/view_models/workarea/storefront/cart_view_model.rb
$(bundle show workarea-storefront)/app/view_models/workarea/storefront/checkout/summary_view_model.rb
$(bundle show workarea-storefront)/test/view_models/workarea/storefront/checkout/summary_view_model_test.rb
$(bundle show workarea-storefront)/app/views/layouts/workarea/storefront/checkout.html.haml
$(bundle show workarea-storefront)/app/views/workarea/storefront/checkouts/_checkout_progress.html.haml
$(bundle show workarea-storefront)/app/views/workarea/storefront/checkouts/_summary.html.haml
$(bundle show workarea-storefront)/app/views/workarea/storefront/checkouts/summary.html.haml
$(bundle show workarea-storefront)/app/assets/stylesheets/workarea/storefront/components/_checkout_progress.scss
$(bundle show workarea-storefront)/app/assets/stylesheets/workarea/storefront/components/_checkout_step_summary.scss
$(bundle show workarea-storefront)/test/integration/workarea/storefront/checkout_side_effects_integration_test.rb
$(bundle show workarea-storefront)/test/integration/workarea/storefront/checkouts_integration_test.rb
$(bundle show workarea-storefront)/test/integration/workarea/storefront/checkout_with_pricing_override_integration_test.rb
$(bundle show workarea-storefront)/test/integration/workarea/storefront/current_checkout_integration_test.rb
$(bundle show workarea-storefront)/test/system/workarea/storefront/guest_checkout_system_test.rb
$(bundle show workarea-storefront)/test/system/workarea/storefront/logged_in_checkout_system_test.rb
&quot;</kbd>
$</samp></pre>

      <h2 id="extension">Extension</h2>
      <p>You can extend checkout, either to change an existing step or to add a new step (or otherwise change the steps/flow).</p>

      <h3 id="change-an-existing-step">Change an Existing Step</h3>
      <p>To change an existing step, <a>decorate</a> the models and/or extend the UI code using the appropriate <a>extension</a> techniques. If decorating the model, extend <code>#update</code> to change which params are expected for an update, and extend <code>#complete?</code> to change the conditions for step completion. For UI changes, refer to the listings of source files in the step-specific sections above.</p>

      <h3 id="add-a-step">Add a Step</h3>
      <p>You may need to add a step (or, in some unlikely scenarios remove or re-order steps). To add a step, complete the following:</p>
      <ol type="1">
        <li>Define the new model</li>
        <li>Add the model to the step configuration</li>
        <li>Update the checkout flow by changing the relevant controller actions</li>
        <li>Add supporting UI code</li>
      </ol>
      <p>Add a new class definition for your checkout step model. The class should inherit from <code>Checkout::Steps::Base</code> and implement <code>#update</code> and <code>#complete?</code>.</p>
      <p>Within an initializer, modify <code>Workarea.config.checkout_steps</code> to include your new class, in the correct position relative to the existing steps. This config value is a SwappableList. For example:</p>
      <pre><code>Workarea.config.checkout_steps.insert_after(
  &#39;Workarea::Checkout::Steps::Addresses&#39;,
  &#39;Workarea::Checkout::Steps::GiftOptions&#39;
)</code></pre>
      <p>Decorate the specific controller actions that control the flow to and from your new step. Refer to the following list of controller actions which control flow from step to step.</p>
      <ul>
        <li><code>Storefront::CheckoutsController#new</code></li>
        <li><code>Storefront::Checkout::AddressesController#completed_addresses_step</code></li>
        <li><code>Storefront::Checkout::AddressesController#incomplete_addresses_step</code></li>
        <li><code>Storefront::Checkout::ShippingController#completed_shipping_step</code></li>
        <li><code>Storefront::Checkout::ShippingController#incomplete_shipping_step</code></li>
        <li><code>Storefront::Checkout::PlaceOrderController#incomplete_place_order</code></li>
        <li><code>Storefront::Checkout::PlaceOrderController#completed_place_order</code></li>
        <li><code>Storefront::Checkout::PlaceOrderController#finished_checkout_destination</code></li>
      </ul>
      <p>Finally, create any additional UI code that is necessary to complete your step (e.g. view, view model). Refer to the lists of code in the step-specific sections above as reference.</p>

    </div>
  </body>
</html>
